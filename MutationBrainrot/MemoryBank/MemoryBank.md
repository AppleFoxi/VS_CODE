# Памятка MemoryBank

## Работаем через Rojo
- Всегда перед редактированием запускай `rojo serve` — синхронизация с Roblox Studio держится на Rojo.
- Изменения в каталоге `src` автоматически попадут в Studio только пока Rojo активен; держи консоль Rojo открытой и следи за предупреждениями.
- Если после правок объект не появился в Studio, убедись, что Rojo подключён к нужному place и перезапусти `rojo serve`.

## Правила комментариев
- Каждую важную часть кода сопровождай понятными комментариями на русском языке.
- После изменения логики сразу обновляй связанные комментарии, чтобы они не устаревали.
- Во всех обсуждениях по проекту и документах используй русский язык для объяснений.

## Организация скриптов
- Серверные скрипты размещай в `src/ServerScriptService` и называй по назначению, например `PlayerFieldManager.server.luau`.
- Клиентские скрипты держи в `src/StarterPlayer/StarterPlayerScripts`, добавляя суффикс `.client.luau`.
- UI-логику размещай в `src/StarterGui`, разбивая интерфейсы на отдельные модули.
- Инструменты (`Tool`) складывай в `src/StarterPack`.

## Работа с полями игроков
- Поля на карте отмечай тегом `PlayerField` через CollectionService, чтобы серверный менеджер мог их раздавать.
- Добавляй полям атрибут `Slot` (или `FieldNumber`) с номером для понятных логов.
- После выхода игрока проверяй, что поле освободилось и готово к новой выдаче.
- `PlayerFieldManager.server.luau` выставляет атрибуты `AssignedUserId`, `AssignedUserName`, `AssignedDisplayName` и держит RemoteEvent `TeleportToFieldEvent` — не переименовывай и не удаляй эти сущности.
- `FieldPanel.client.luau` строит BillboardGui над занятыми полями: на панели должен быть аватар, `DisplayName` и `@UserName`, а аватар берётся через `Players:GetUserThumbnailAsync`.
- Кнопка панели отправляет `TeleportToFieldEvent` на сервер; клип должен телепортировать в центр поля чуть выше поверхности, проверяй это после правок.

## Гигиена файлов
- Сохраняй файлы в кодировке UTF-8 без BOM: скрытый символ U+FEFF вызывает в Studio ошибку `Expected identifier … got Unicode character U+FEFF`.
- Перед коммитом проверяй начало файлов на отсутствие невидимых символов (BOM, пробелы, табы).
- Держи структуру и стиль кода аккуратными: избегай случайных дублированных строк и оставляй финальный перевод строки.